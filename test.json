{
  "_id": "680f55e9fbb0170ad1ef8193",
  "email": "winnie@domain.com",
  "fullName": "Winnie Shuma",
  "phoneNumber": "+25578544893",
  "role": "customer",
  "isVerified": true,
  "created_at": "2025-04-28T10:18:17.703Z",
  "updated_at": "2025-04-28T10:18:17.936Z",
  "__v": 0,
  "profile": {
    "_id": "680f55e9fbb0170ad1ef8196",
    "location": "Tanzania, Kilimanjaro",
    "preferences": [],
    "created_at": "2025-04-28T10:18:17.931Z",
    "updated_at": "2025-04-28T10:18:17.931Z",
    "__v": 0
  },
  "profileImage": "http://localhost:5000/uploads/profiles/profileImage-1747498473352-502401094.jpg",
  "updatedAt": "2025-05-17T16:14:33.371Z"
}



     <div
        className={`ml-80 flex-1 flex flex-col bg-gray-100 transition-all duration-300 ${
          isSidebarCollapsed
            ? "md:ml-[calc(5rem+20rem)]"
            : "md:ml-[calc(16rem+20rem)]"
        }`}
      >
        {/* Messages and Input Container */}
        <div className="flex-1 flex flex-col min-h-0">
          {/* Messages */}
          <div className="flex-1 overflow-y-auto p-6 flex flex-col justify-end">
            {!selectedConversation ? (
              <div className="flex-1 flex items-center justify-center">
                <div className="text-center text-gray-500">
                  <h4 className="text-lg font-medium">
                    Select a chat to start messaging
                  </h4>
                </div>
              </div>
            ) : messages.length === 0 ? (
              <div className="flex-1 flex items-center justify-center">
                <div className="text-center text-gray-500">
                  <h4 className="text-lg font-medium">No messages yet</h4>
                  <p className="text-sm">Start the conversation!</p>
                </div>
              </div>
            ) : (
              <div className="flex flex-col">
                {messages.map(({ _id, senderId, message, createdAt }) => (
                  <div
                    key={_id}
                    ref={lastMessageRef}
                    className={`mb-4 flex ${
                      senderId === user?.id ? "justify-end" : "justify-start"
                    }`}
                  >
                    <div
                      className={`max-w-xs sm:max-w-md p-3 rounded-lg ${
                        senderId === user?.id
                          ? "bg-indigo-600 text-white"
                          : "bg-gray-200 text-gray-800"
                      }`}
                    >
                      <div className="flex items-center mb-1">
                        <span className="text-xs font-medium">
                          {senderId === user?.id
                            ? "You"
                            : selectedConversation?.fullName}
                        </span>
                        <span className="text-xs text-gray-400 ml-2">
                          {formatDate(createdAt)}
                        </span>
                      </div>
                      <p className="text-sm">{message}</p>
                    </div>
                  </div>
                ))}
              </div>
            )}
          </div>